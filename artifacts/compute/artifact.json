{
  "name": "Compute Fleet (ASG)",
  "identifier": "compute-fleet",
  "description": "Scalable EC2 Auto Scaling Group running Docker containers.",
  "type": "terraform",
  "path": "artifacts/compute",
  "inputs": [
    {
      "name": "vpc_id",
      "type": "string",
      "required": true,
      "label": "VPC ID"
    },
    {
      "name": "subnet_ids",
      "type": "list(string)",
      "required": true,
      "label": "Subnets",
      "description": "Wire this to the 'Public Subnets' output of the Network Artifact."
    },
    {
      "name": "alb_security_group_id",
      "type": "string",
      "required": true,
      "label": "ALB Security Group",
      "description": "Wire to Network Artifact Output."
    },
    {
      "name": "target_group_arn",
      "type": "string",
      "required": true,
      "label": "Target Group ARN",
      "description": "Wire to Network Artifact Output."
    },
    {
      "name": "image_registry",
      "type": "string",
      "required": false,
      "default": "",
      "label": "Registry URL",
      "description": "ECR URL (e.g. 123.dkr.ecr...). Leave empty for Docker Hub."
    },
    {
      "name": "image_name",
      "type": "string",
      "required": true,
      "label": "Image Name",
      "description": "Docker image name (e.g. nginx or my-app)."
    },
    {
      "name": "image_tag",
      "type": "string",
      "required": false,
      "default": "latest",
      "label": "Image Tag"
    },
    {
      "name": "container_port",
      "type": "number",
      "required": false,
      "default": 80,
      "label": "Container Port"
    },
    {
      "name": "instance_type",
      "type": "string",
      "required": false,
      "default": "t3.micro",
      "label": "Instance Type"
    },
    {
      "name": "project_name",
      "type": "string",
      "required": false,
      "default": "bluebricks-demo",
      "label": "Project Name"
    }
  ],
  "outputs": [
    {
      "name": "security_group_id",
      "description": "The Security Group ID of the Compute instances."
    }
  ]
}